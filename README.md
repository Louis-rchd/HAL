[CORRECTION GPIO] (Don't hesitate to remove this part)
You could abstract your register adresses, by putting them outside your function (as constant)

[CORRECTION SPI] (don't hesitate to remove this part)
You didn't implement the SPI feature.